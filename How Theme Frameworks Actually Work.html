<h1>Como as <em>frameworks</em> para Temas Funcionam de Verdade</h1>

<p><em>Frameworks</em> para temas podem ser bastante poderosos. Para usuários de WordPress que não tem conhecimento tão técnico, eles possibilitam a criação de um site único que não parece usar o tema em questão e, para desenvolvedores, essas <em>frameworks</em> podem ajudar bastante no princípio DRY (Don't Repeat Yourself - Não se repita), dando a capacidade de criar sites customizados de forma rápida.</p>

<p>Se você tem usado alguma <em>framework</em> de terceiros há algum tempo e ficou frustrado com a quantidade de código desnecessário ou falta de flexibilidade, ou simplesmente quer controle total sobre seu código, talvez a construção de uma <em>framework</em> para temas própria seja a melhor abordagem.</p>

<p>Nessa série, você aprenderá como criar uma <em>framework</em> para temas de WordPress para você ou seus clientes, ou mesmo liberar para o público. Você passará pelos estágios envolvidos na criação de um tema pai que servirá de base para sua <em>framework</em>, adicionar funcionalidades extras, ganchos (<em>hooks</em>) e mais. Você aprenderá como utilizar essas funcionalidades nos temas filhos e nos plugins, e como liberar seu código para o público.</p>

<p>Mas, antes de começarmos, você precisa saber como suas <em>frameworks</em> para temas operam e o que as tornam diferentes de um tema pai padrão.</p>

<p>Passei bastante tempo desenvolvendo duas <em>frameworks</em> para usar com dois tipos diferentes de clientes, desenvolvendo e aprimorando ambas com o tempo, e também trabalhei com algumas <em>frameworks</em> de terceiros. Na minha experiência essas <em>framework</em> possuem algumas características principais:</p>

<ul><li>Ela cosiste de um tema pai, projetado para ser usado com temas filhos. Em alguns casos, o tema pai também funciona como um tema por conta própria, mas, outros temas pais só funcionam quando juntos de temas filhos - o <a href="http://codex.wordpress.org/Theme_Frameworks" target="_self">Codex WordPress</a> define esses temas como 'Temas Base/Iniciais' e 'Bibliotecas de Código,' respectivamente.</li>
<li>Eles incluem ganchos e funções que podem ser usadas pelos temas filhos e plugins. Sua <em>framework</em> para temas é a base de um ecosistema inteiro com o qual trabalhará e isso inclui os plugins que usufruirão dos ganchos da sua <em>framework</em>.</li>
<li>Se projetado para ser acessível por usuários, incluirá páginas com as opções do tema, permitindo que os usuários customizem-no de acordo com suas necessidades. Isso pode ser extensivo, incorporando design, layout, funções, conteúdo e mais. Em alguns casos, certas funcionalidades podem ser providas através do Customizador de Temas.</li>
<li>Ele pode incluir várias áreas para Widgets, assim, usuários não técnicos pode adicionar conteúdo ou códigos através deles (incluindo os plugins que você escreveu especificamente para a <em>framework</em>).</li>
<li>Ela também pode incluir uma biblioteca de funcionalidades, como um <em>slider</em> ou <em>lightbox</em> do jQuery. Dependendo nas suas necessidades e das dos usuários, talvez incorpore essas bibliotecas, diretamente, na <em>framework</em> ou proverá plugis com códigos que o façam.</li>
<li>Ela é extensível, com ganchos que permitem você estender as funcionalidades através dos temas filhos ou plugins.</li>
</ul>

<p>Os dois primeiros pontos acima são os fundamentais - sem um tema pai, você não tem uma <em>framework</em> para temas. E um tema pai sem ganchos e funções é só um tema básico, não uma <em>framework</em>.</p>

<p>Então é isso o que as <em>frameworks</em> para temas são, mas, como elas funcionam? Vejamos os elementos de uma <em>framework</em> para temas:</p>

<ul><li>O tema pai e um tema filho opicional</li>
<li>Ganchos de ação e de filtros</li>
<li>Funções</li>
<li>Opções de temas</li>
<li>Widgets</li>
<li>Scripts</li>
<li>Extensibilidade</li>
</ul>

<h2>Tema Pai e os Temas Filho</h2>

<p>O componente principal de uma <em>framework</em> para temas é o tema pai. Isso pode ser projetado em uma de duas maneiras:</p>

<ul><li>Como tema inicial, que pode funcionar como um tema por conta própria, talvez com customização através de uma tela de opções do tema ou pelo customizador de temas. Alguns exemplos incluem o <a href="http://wordpress.org/themes/atahualpa" target="_self">Atahualpa</a> e o <a href="http://wordpress.org/themes/thematic" target="_self">Thematic</a>. ambos podem ser usados como temas por si só ou com temas fihlos.</li>
<li>Como base para ser usado por um tema filho, sem que o tema funcione, efetivamente, para um site. Exemplos são o <a href="http://themehybrid.com/hybrid-core" target="_self">Hybrid Core</a> e o <a href="http://my.studiopress.com/themes/genesis/" target="_self">Genesis</a>. Eles incluiem o código básico que você normalmente encontraria em alguns temas, porém, adicionam uma grande gama de ganchos e funções que podem ser usados por temas filhos e, também, por plugins. Tudo isso se torna a API da <em>framework</em>.</li>
</ul>

<p>Um característica chave dessas <em>frameworks</em> é o princípio DRY, onde seu tema, provavelmente, usará de partes de modelo e arquivos de inclusão, sempre que possível, o que lhe permite usar esses códigos em vários lugares do seu tema. Isso também facilita a possibilidade de sobrescrita desse código em temas filho, uma vez que você pode, simplesmente, criar uma parte de modelo ou arquivo de inclusão com o mesmo nome, dentro do seu tema filho.</p>

<p>Não explicarei o conceito de temas pai e filho, uma vez que isso já foi explicado <a href="http://code.tutsplus.com/articles/how-to-customize-your-wordpress-theme-with-a-child-theme--wp-32354" target="_self">nesse tutorial</a>. Muitas <em>frameworks</em> tem vários temas que já dão suporte a elas, enquanto em outros, você tem de criar o seu próprio tema. </p>

<p>Se for criar o seu próprio, recomendo criar, pelo menos, um tema filho 'padrão', para evitar a repetição do trabalho envolvido no preparo de um tema para cada projeto: talvez decida criar múltiplos temas filho para diferentes tipos de projetos, como por exemplo, temas filhos para blogs e temas filhos para sites institucionais.</p>

<h2>Ganchos de Ação e de Filtros</h2>

<p>Uma <em>framework</em> incluirá uma gama ganchos para temas e plugins usarem para adicionarem códigos customizados ou mudar o comportamento do tema:</p>

<ul><li>Ganchos de ação aparecerão múltiplas vezes no seu código, permitindo que você adicione códigos aos arquivos do seu modelo através de funções codificadas em sua <em>framework</em> que podem ser sobrescritas por temas filhos, ou através de funções que você adicionar em seus temas filhos ou plugins. Minha própria <em>framework</em> faz uso extensivo de ganchos de ações, provendo em todos os arquivos do modelo para permitir que os usuários coloquem conteúdos em áreas de widgets, em detalhes de contato, botões de ação, e código específico para qualquer coisa que for preciso.</li>
<li>Ganchos de filtros pode ser usados para alterar o comportamente de um site usando um tema filho ou um plugin em particular, por exemplo, customizado <em>loops</em>, ampliando conteúdo estático e mais. Qualquer texto estático (ou código chamado de fora do seu site) deve ser envolvido em um filtro, assim, ele pode ser alterado em temas filhos se necessário.</li>
</ul>

<p>É interessante tomar algum tempo para avaliar quais ganchos você quer incluir no começo, assim, saberá qual conteúdo será incluido através dos ganchos e qual código irá em seus arquivos de modelo.</p>

<h2>Funções</h2>

<p>Sua <em>framework</em>, provavelmente, também incluirá uma gama de funções. Algumas delas utilizarão os ganchos de ação e de filtro que você criou, enquanto outras serão funções que temas filho poderão usar, como as de criação de tags do modelo. </p>

<p>Se você tiver qualquer função customizada que usa em vários sites de clientes, é interessante adicioná-las em sua <em>framework</em>. Vpcê não precisa ativar todas suas funções: você pode ativar uma função do tema pai usando a função <code class="inline">add_action()</code> em seu tema fiilho.</p>

<h2>Opções de Temas</h2>

<p>Telas de opções de temas são uma útil adicção a qualquer tema complexo, mas são, particularmente, úteis em <em>frameworks</em> para temas projetados para usuários não-técnicos. As maiores <em>frameworks</em> para temas incluem várias telas de opções, com opções que incluem a ativação de funcionalidades, melhoraramento do layout, adição de conteúdo e alteração de elementos de design como cores, imagens de plano de fundo, fontes e imagens de cabeçalho.</p>

<p>Talvez escolha usar o customizador de temas para várias das suas opções, que dá a vantagem dos usuários verem as mudanças de acordo com que são feitas. Preferi essa abordagem para a <a href="http://edupress.co.uk/how-to-customise-your-school-website/" target="_self">Edupress</a>, a <em>framework</em> para temas que desenvolvi para sites de escolas, juntamente ao Mark Wilkinson.</p>

<h2>Áreas de Widgets</h2>

<p>Tenha você escolhido adicionar uma gama de áreas de widgets ou não, dependerá do público da sua <em>framework</em>: se somente você ou um pequeno grupo de desenvolvedores trabalharão com o tema, talvez não seja necessário adicionar algo além das áreas padrões das barras laterais ou do rodapé.</p>

<p>Mas se sua <em>framework</em> será usada por pessoas leigas, adicionar esss áreas lhes dará muito mais flexibilidade. Como em qualquer barra lateral ou rodapé, você pode registrar áreas de widgets no cabeçalho, antes ou depois do conteúdo e abaixo do rodapé.</p>

<p>A <em>framework</em> que uso para os sites dos meus clientes incluem quatro áreas de widgets no rodapé: o tema checa se essas áreas estão populadas e adiciona um CSS de acordo, de forma que as áreas de widget ocupem uma largura adequada da página.</p>

<p>Suas áreas de widget podem ser codificadas diretamente em seus arquivos de modelo ou talvez decida (como eu fiz), adiciona-las através de ganchos em lugares relevantes ao seu site. Isso significa que elas podem ser sobrescritas nos temas filhos, seja por áreas de widgets alternativas ou código customizado.</p>

<h2>Scripts</h2>

<p>If a given script is likely to be used by a number of sites built on your <em>framework</em>, or if your users will be non-technical and you want to provide extra options, you might decide to include certain scripts in your <em>framework</em>, such as a slider or lightbox script. This can save users having to install extra plugins, but has the disadvantage of code bloat if these scripts aren't needed.</p>

<p>Again this will depend on your audience and its anticipated needs: if it's just you working with the <em>framework</em>, I'd recommend developing (or identifying) plugins with these scripts and using those when you need to.</p>

<p>If you do include scripts it's worth including an activation and deactivation option on your theme options screen.</p>

<h2>Extendability</h2>

<p>If your <em>framework</em> is going to be useful for a range of sites now and in the future you want it to be extendable. The parent theme which forms the core of the <em>framework</em> is just the heart of an ecosystem which you and your theme's users will tap into to add extra options and power to their sites. This will include:</p>

<ul><li>Child themes or starter themes - the list of these may well grow over time, especially if you're releasing your theme to the public</li>
<li>Plugins designed to work specifically with your <em>framework</em>, often activated via <em>framework</em>-specific hooks.</li>
</ul>

<p>It may also include documentation for other developers wanting to work with your <em>framework</em>: most of the major theme <em>frameworks</em> come with extensive documentation which developers can use either to customize their sites built on the <em>framework</em> or to create child themes or plugins for other users of the <em>framework</em> to access.</p>

<h2>Summary</h2>

<p>Theme <em>frameworks</em> are a powerful tool in the WordPress developer's arsenal. As we've seen, they are vital for thousands of non-technical site owners who use them to create custom WordPress sites. But they're also a great tool for any developer who will be creating multiple sites, either for personal use or for clients. </p>

<p>Theme <em>frameworks</em> have a number of characteristics which give them that power: they are extendable and flexible, and make it easy for you or your users to create custom sites using child themes and accessing the functions and hooks provided by your <em>framework</em>.</p>

<p>Having looked at how theme <em>frameworks</em> operate, in the next part of this series you'll identify what your <em>framework</em> needs to do and who it needs to work for, which will help you decide on the most appropriate development approach.</p>
