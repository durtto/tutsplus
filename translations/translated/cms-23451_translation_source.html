<h1>Linha de Comando para o Web Design: Lidando com Pacotes de Terceiros</h1>

<p>Geralmente, usamos pacotes de terceiros em nossos projetos de <em>web design</em>. </p>

<p>Carregamos CSS de projetos como o <a href="http://getbootstrap.com/" target="_self">Bootstrap</a> e <a href="http://foundation.zurb.com/" target="_self">Foundation</a>, e <em>scripts</em> como <a href="http://jquery.com/" target="_self">jQuery</a> e <a href="http://modernizr.com/" target="_self">Modernizr</a>. Além disso, cada vez mais, usamos pacotes de terceiros durante o processo de desenvolvimento, como compiladores para préprocessadores CSS ou limpadores de código e ferramentas de compressão para acelerar a velocidade que nossos sites carregam e são executados.</p>

<p>Rapidamente, isso pode tornar-se uma bagunça com downloads manuais, transferências de arquivos e atualizações. Claro, conseguimos fazer isso funcionar, mas é bastante demorado e suas complicações, geralmente, deixam projetos com códigos desatualizados. Há, porém uma forma melhor e mais rápida, usando a gerenciadores de pacotes via linhas de comando.</p>

<p>Neste tutorial, você aprenderá como lidar com pacotes de terceiros em simples comandos.</p>

<p><strong>Nota</strong>: Se não acompanhou o primeiro tutorial desta série, <a href="http://webdesign.tutsplus.com/pt/tutorials/the-command-line-for-web-design-grasping-the-basics--cms-23318" target="_self">Entendendo o Básico</a>, é interessante que você o leia primeiro antes de continuar por aqui.</p>

<h2>Os “Dois Maiores” Gerenciadores de Pacote</h2>

<p>Para começarmos a usar a linha de comando para lidar com pacotes de terceiros, a primeira coisa que você precisará é de um “sistema de gerenciamento de pacotes, ou “gerenciador de pacotes”. As duas escolhas mais óbvias e populares entre os <em>web designers</em>, nesse momento, são o <a href="https://www.npmjs.com/" rel="external" target="_blank">npm</a> e o <a href="http://bower.io/" rel="external" target="_blank">Bower</a>, e serão esses os sistemas que aprenderemos a usar hoje.</p>

<h3>npm (através do Node.js)</h3>

<p>Talvez já tenha ouvido falar do <a href="http://nodejs.org/" rel="external" target="_blank">Node.js</a>, um conjunto de ferramentas em JavaScript que podem servir para criar <a href="https://ghost.org">plataformas de blog</a>, a <a href="https://atom.io">IDEs de programação</a>, passando por <a href="http://mediacenterjs.com">centrais de mídia</a> a <a href="http://node-os.com">sistemas operacionais inteiros</a>.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/nodejs.png"/>
</figure>

<p>Junto da instalação do Node.js, temos a instalação do gerenciador de pacotes <a href="https://www.npmjs.com/" rel="external" target="_blank">npm</a>, um sistema tremendamente útil que você verá bastante por esta série.</p>

<p>Contrário ao que possa parecer, npm <em>não</em> significa “Node Package Manager”. Oficialmente, significa <em>“npm não é um acrônimo”</em> e no topo do site você verá várias piadinhas a cada atualização da página, como “nunca puxe macacos” e “novos paradigmas majestosos”.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/npm.png"/>
</figure>

<p>Neste momento, o npm provê acesso e administração de 127,664 pacotes projetados para os mais variados propósitos; Entre os itens úteis para <em>web design</em>, você encontrará pacotes como: </p>

<ul>
  <li>Stylus</li>
  <li>node-sass</li>
  <li>LESS</li>
  <li>Jade</li>
  <li>UglifyJS</li>
  <li>Bower</li>
  <li>Grunt</li>
  <li>Gulp</li>
  <li>Yeoman</li>
  <li>Autoprefixer</li>
  <li>BrowserSync</li>
  <li>Foundation CLI</li>
  <li>UglifyJS</li>
  <li>clean-css</li>
  <li>Jeet.gs</li>
  <li>Kouto Swiss</li>
</ul>

<p>Para os propósitos desse tutorial, usaremos o npm junto do Node.js, porém, ele é uma entidade independente que pode ser usada com outros sistemas como o recém-chegado, <a href="https://iojs.org/en/index.html" rel="external" target="_blank">IO.js</a>.</p>

<p>Como iniciantes, recomendo seguir o tutorial usando o Node.js, posteriormente, porém, talvez queira explorar outras opções.</p>

<h3>Bower</h3>

<p>Para falar a verdade, fui iniciado nos gerenciadores de pacotes de terceiros via linha de comando através do Bower. Alguém aguçou minha curiosidade ao perguntar</p>

<blockquote>“Você já tentou o Bower? É fantástico!”</blockquote>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/bowerio.png"/>
</figure>

<p>Eu não tinha ideia do que ele era e para que servia, então fui até o site <a href="http://www.bower.io/">www.bower.io</a> e uma olhada na lista dos pacotes disponíveis fez eu perceber.</p>

<p>A biblioteca inclui os itens abaixo:</p>

<ul>
  <li>Bootstrap</li>
  <li>AngularJS</li>
  <li>jQuery</li>
  <li>Font Awesome</li>
  <li>HTML5 Boilerplate</li>
  <li>Animate.css</li>
  <li>Normalize.css</li>
  <li>Modernizr</li>
  <li>Underscore</li>
  <li>Flat UI</li>
  <li>jQuery UI</li>
  <li>Handlebars</li>
  <li>Masonry</li>
</ul>

<p>São grandes as chances de você ter usado pelo menos um desses pacotes em seus projetos, regularmente. O Bower acelera e facilita esse processo para você.</p>

<h3>Quando Usar o Bower e/ou npm</h3>

<p>Em alguns casos, você encontrará pacotes em ambos os gerenciadores. Nesses casos, qual dos gerenciadores usar?</p>

<p>Ambas as opções instalarão e atualizarão os pacotes tão rápido quanto o outro. Não há regras definidas para qual usa e, no fim das contas, você terá sua própria forma de fazer as coisas, então, darei apenas uma dica, a qual poderá usar como base para suas decisões.</p>

<p>A partir da perspectiva do <em>web design</em>, a diferença se dá pela forma como usará os pacotes, e os dois casos mais comuns são para publicação <em>front end</em> contra o uso em desenvolvimento.</p>

<p>O Bower é projetado para administração de pacotes <em>front end</em>, então dê preferência por ele se buscar por algo que será consumido pelos usuários através do navegador.</p>

<p>Por outro lado, os pacotes do npm serão a escolha certa se quiser usá-los como parte do processo de desenvolvimento e não serão inclusos no produto finalizado.</p>

<h2>Instalando o npm e o Bower</h2>

<h3>Instale o Node.js e o npm</h3>

<p>Felizmente, instalar o npm é bem simples e direto, uma vez que já vem junto do instalador do Node.js. Vá até o site <a href="http://www.nodejs.org">http://www.nodejs.org</a> e baixe o instalador da sua plataforma. Instale em sua máquina e o npm será instalado junto e estará pronto para prosseguir.</p>

<p><strong>Importante!</strong> Mesmo que já tenha o Node.js instalado em seu sistema, siga os paços abaixo para garantir que você tenha a versão mais atual instalada. Se estiver usando uma versão desatualizada, alguns dos passos que deverá passar durante a série, podem não funcionar.</p>

<h4>Atualize o npm</h4>

<p>De acordo com o site do npm, a probabilidade de ter uma versão mais nova do npm que a versão instalada com o Node.js, é bem grande.</p>

<p>Para ter certeza que está na versão mais atual, execute o comando a seguir:</p>

<pre class="brush: bash">[sudo] npm install npm -g</pre>

<h3>Instale o Git ou MsysGit</h3>

<p>O Git, junto do Node.js e do npm, é um pré-requisito para usar o Bower. O Git também é um pré-requisito para alguns outros pacotes que talvez queira usar em seu processo de <em>web design</em>, então, é bom telo instalado no sistema também.</p>

<h4>Para Usuários do Mac OSX</h4>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/installgit.png"/>
</figure>

<p>Para usuários do Mac OSX, você deverá ir ao site do Git, escolha o instalador do binário e execute-o como faria com qualquer outro instalador de aplicações: <a href="http://git-scm.com/download/mac">http://git-scm.com/download/mac</a></p>

<h4>Para Usuários Windows</h4>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/installmsysgit.png"/>
</figure>

<p>Para usar o Bower no Windows, você precisará de uma versão específica do  Git para o Windows, chamada de msysGit. Pressione o botão <strong>Download</strong> e baixe o executável, mas não o execute ainda: <a href="http://msysgit.github.io">http://msysgit.github.io</a></p>

<p>O motivo de não o instalar ainda é que você precisará ser bastante cuidadosa ao escolher as configurações durante a instalação. Ao vir a tela abaixo, tenha certeza de marcar a opção <strong>Run Git from the Windows Command Prompt</strong> (Executar Git do Prompt de Comando do Windows).</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/msysgit-settings.png"/>
</figure>

<p>Para mais informações sobre instalação do msysGit como pré-requesito do Bower, veja: <a href="https://github.com/bower/bower#a-note-for-windows-users" target="_self">Uma nota para usuários Windows</a>.</p>

<h3>Instale o Bower</h3>

<p>O Bower pode ser instalado através do npm, usando o comando a seguir:</p>

<pre class="brush: bash">[sudo] npm install -g bower</pre>

<p>Usuários do Mac, como estamos usando o semáforo de instalação global, <code class="inline">-g</code>, é possível que seja preciso usar o comando <code class="inline">sudo</code> no início do comando anterior e digitar sua senha, quando pedido.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/installbower.png"/>
</figure>

<h2>Básico do npm e do Bower</h2>

<h3>Iniciar um Projeto</h3>

<p>Tanto o npm quanto o Bower usam arquivos de manifestos próprios, contendo informações sobre o projeto e uma lista dos pacotes utilizados. Com projetos do npm, o arquivo usado é chamado de “package.json” e nos projetos do Bower, é chamado de “bower.json”. A forma mais fácil de criar esses arquivos é usar o comando <code class="inline">init</code> respectivo de cada gerenciado. Façamos isso, agora.</p>

<h4>Através do npm</h4>

<p>Com a sua linha de comando no diretório raiz do seu projeto, execute esse comando:</p>

<pre class="brush: bash">npm init</pre>

<p>Isso fará uma série de perguntas que você poderá responder através da linha de comando, provendo informações que estarão em seu arquivo “package.json” criado.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/npminit.png"/>
</figure>

<p>Leia mais sobre o comando <code class="inline">npm init</code> em: <a href="https://docs.npmjs.com/cli/init">https://docs.npmjs.com/cli/init</a></p>

<h4>Através do Bower</h4>

<p>Novamente, com a sua linha de comando apontando para o diretório raiz do seu projeto, execute o comando abaixo:</p>

<pre class="brush: bash">bower init</pre>

<p>Assim como o processo de inicialização do nom, você responderá algumas perguntas e suas respostas comporão o arquivo “bower.json”.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/bowerinit.png"/>
</figure>

<p>Leia mais sobre o comando <code class="inline">bower init</code> em: <a href="http://bower.io/docs/creating-packages/#bowerjson">http://bower.io/docs/creating-packages/#bowerjson</a></p>

<h3>Pesquisando Pacotes</h3>

<p>Com o projeto iniciado, você está no ponto para trazer os pacotes. Para tanto, você precisará encontrar os pacotes que deseja usar, seja através do npm ou do Bower. </p>

<p>Você deve pesquisa no lugar certo, uma vez que precisa saber o nome correto do pacote dentro dos ecossistemas do npm ou do Bower, para poder instalá-los e atualizá-los.</p>

<h4>Através do npm</h4>

<p>Você pode pesquisa pacotes no npm através da barra de busca no topo da <a href="https://www.npmjs.com/" target="_self">página deles</a>.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/searchnpm.png"/>
</figure>

<p>Também é possível pesquisar direto da linha de comando com o comando <code class="inline">npm search &lt;pacote&gt;</code>, contudo, pessoalmente, acho mais fácil buscar direto no site.</p>

<p>Ao encontrar o pacote que deseja usar, anote o nome do pacote.</p>

<h4>Através do Bower</h4>

<p>Pesquisa por pacotes do Bower pode ser feito pelo site <a href="http://bower.io/search/">http://bower.io/search/</a>.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/searchbower.png"/>
</figure>

<p>Assim como no npm, anote o nome do pacote que deseja usar, assim que encontrá-lo.</p>

<h3>Instalando Pacotes Novos</h3>

<p>Uma vez encontrados os pacotes, é hora de instalá-los. É aqui que você usará os nomes dos pacotes que você anotou. Nas instruções abaixo, use o nome anotado, toda vez que encontrar <code class="inline">&lt;package&gt;</code> no comando.</p>

<h4>Através npm</h4>

<p>Para instalar um pacote, localmente, ou seja, apenas dentro do diretório do projeto, execute:</p>

<pre class="brush: bash">npm install &lt;package&gt;</pre>

<p>O pacote será baixado e colocado dentro de um diretório chamado “node_modules”, estando disponível para uso em seu projeto, por exemplo:</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/npminstallloc.png"/>
</figure>

<p>Assim como instalar pacotes localmente, há a opção de instalar os pacotes globalmente. </p>

<p>Pacotes instalados localmente estão disponíveis, apenas, para uso dentro do contexto do seu projeto, mas, pacotes instalados globalmente podem seu usado em qualquer lugar da sua máquina. Por exemplo, assim que o pacote “less” for instalado globalmente, você pode usá-lo para compilar qualquer documento “.less”, em qualquer lugar do seu sistema.</p>

<p>Para instalar um pacote de forma global, use o semáforo <code class="inline">-g</code> em seu comando:</p>

<pre class="brush: bash">[sudo] npm install &lt;package&gt; -g</pre>

<h4>Através do Bower</h4>

<p>O processo de instalação para pacotes do Bower é quase exatamente o mesmo que do npm, bastando usar o comando:</p>

<pre class="brush: bash">bower install &lt;package&gt;</pre>

<p>A diferença é que os pacotes do Bower ficarão no diretório “bower_components”. Por exemplo:</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/bowerinstall.png"/>
</figure>

<p>Como você usará o Bower para publicar pacotes <em>front end</em> dentro de projetos específicos, todas suas instalações podem ser feitas localmente, sem a necessidade do uso do semáforo <code class="inline">-g</code>.</p>

<h3>Trabalhando com Dependências</h3>

<p>Se estiver interessado em compartilhar ou mesmo duplicar e mover as coisas entre os projetos que você tem usado npm ou Bower, gerenciamento de dependências é uma coisa muito boa a se saber. Deixe-me explicar o porque.</p>

<p>Lembre-se do arquivo manifesto que criamos mais cedo: “package.json” e “bower.json”. Em cada um desses arquivos, você encontrará uma lista dos pacotes que seu projeto depende.</p>

<p>Você já sabe que os pacotes do npm vão para um diretório chamado “npm_modules” e os do Bower vão para um outro, chamado “bower_components”. Bem, o legal disso é que se quiser compartilhar seu projeto, você pode omitir, completamente esses diretórios, desde que você tenha as dependências listadas nos arquivos manifestos. </p>

<p>Isso salvará centenas de <em>megabytes</em>, tornando seu projeto muito mais fácil de mover, copiar e tudo mais.</p>

<p>Quando alguém pega seu projeto, eles podem executar <code class="inline">npm install</code> e instalar todos os pacotes listados no arquivo “package.json”, automaticamente, no diretório “npm_modules”. </p>

<p>Equivalentemente, o comando <code class="inline">bower install</code> baixará, automaticamente, quaisquer dependências listadas no arquivo “bower.json” e os colocará no diretório “bower_components”.</p>

<h4>Dependências de Produção &amp; Desenvolvimento</h4>

<p>Há dois tipos de dependências:</p>

<ol>
  <li><p><em>Dependências de produção</em> - no contexto do <em>web design</em>, estamos nos referindo aos pacotes que serão publicados no <em>front end</em> do site, por exemplo, o Modernizr, para compatibilidade entre navegadores.</p></li>
  <li><p><em>Dependências de desenvolvimento</em> - no contexto do <em>web design</em>, estamos nos referindo aos pacotes usados durante o desenvolvimento, por exemplo, o LESS, para compilação de arquivos .less.</p></li>
</ol>

<p>O Bower e o npm permitem você especificar quais dependências são de quais tipos. Contudo, como discutimos mais cedo, é provável que usar o Bower para pacotes <em>front end</em> e o npm para pacotes de desenvolvimento. Assim, configuraremos os pacotes do Bower como dependências de produção e os módulos do npm como dependências do desenvolvimento.</p>

<p>O método para configurar dependências é o mesmo para o npm e para o Bower, e é através da adição de um semáforo ao comando usado para instalar o pacote.</p>

<h4>Instalar como Dependência de Desenvolvimento</h4>

<p>Para configurar um pacote como dependência do desenvolvimento, adicione o semáforo <code class="inline">--save-dev</code>:</p>

<pre class="brush: bash">npm install &lt;package&gt; --save-dev</pre>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/npminstallsavedev.png"/>
</figure>

<p>O pacote será isntalado da mesma forma de antes, porém, ele será adicionado à lista <strong>devDependencies</strong> em seu arquivo “package.json”, dessa forma:</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/npminstalldevdependencies.png"/>
</figure>

<h4>Instalar como Dependência da Produção</h4>

<p>Para configurar um pacote como dependência da produção, adicione o semáforo <code class="inline">--save</code>:</p>

<pre class="brush: bash">bower install &lt;package&gt; --save</pre>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/bowerinstallsave.png"/>
</figure>

<p>Neste caso, o pacote será adicionado à lista <strong>dependencies</strong> do arquivo “bower.json”, dessa forma:</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/53/posts/23451/image/bowerdependencies.png"/>
</figure>

<p><strong>Nota</strong>: ao instalar pacotes npm de forma global, com o semáforo <code class="inline">-g</code>, você não precisará em usar os semáforos <code class="inline">--save</code> ou <code class="inline">--save-dev</code>.</p>

<h3>Atualizando Pacotes</h3>

<p>Atualizar pacotes também é um comando de uma única linha para o Bower e para o npm.</p>

<h4>Através do npm</h4>

<p>Para pacotes instalados localmente, execute o comando a seguir no diretório raiz do seu projeto, onde o diretório “node_modules” está:</p>

<pre class="brush: bash">npm update &lt;package&gt;</pre>

<p>Para atualizar pacotes instalados globalmente, use o semáforo <code class="inline">-g</code>:</p>

<pre class="brush: bash">[sudo] npm update &lt;package&gt; -g</pre>

<p>Você também pode deixar o nome do pacote de fora, atualizando, assim, todos os pacotes de uma só vez.</p>

<p>Para atualizar todos os pacotes em um projeto específico, aponte sua linha de comando para o diretório raiz do seu projeto e execute:</p>

<pre class="brush: bash">npm update</pre>

<p>E, para atualizar todos os pacotes instalados globalmente, execute:</p>

<pre class="brush: bash">[sudo] npm update -g</pre>

<h4>Através do Bower</h4>

<p>Atualizar pacotes do Bower é, essencialmente, o mesmo que no npm. No diretório raiz do projeto, aquele onde está o diretório “bower_components”, execute este comando:</p>

<pre class="brush: bash">bower update &lt;package&gt;</pre>

<p>A versão mais atual será baixada automaticamente e adicionado ao seu diretório “bower_components”.</p>

<h2>Usando Pacotes do npm e do Bower</h2>

<p>Uma vez instalados, agora, você quer saber como usar os pacotes, certo??</p>

<p>Com os pacotes do Bower, será o mesmo que você faria para carregar arquivos normalmente, através das <em>tags</em> <code class="inline">script</code> ou <code class="inline">link</code> em seu HTML, carregando os arquivos direto do seu diretório “bower_components”.</p>

<p>Contudo, essa não é a forma mais ótima e há maneiras melhores de se fazer. Por exemplo, você pode unir todos os arquivos JavaScript dos pacotes do Bower e comprimi-los em um único arquivo.</p>

<p>Você verá uma demonstração desse processo em um próximo tutorial, o <a href="http://webdesign.tutsplus.com/pt/tutorials/the-command-line-for-web-design-automation-with-task-runners--cms-23454" target="_self">Automação com Executadores de Tarefa</a>.</p>

<p>Pacotes instalados pelo npm, tipicamente, são usados através da linha de comando ou por <em>scripts</em> executadores de tarefas. </p>

<p>Pacotes diferentes vem com seus próprios conjuntos de comandos que você pode usar para todos os tipos diferentes de tarefas, como a compilação, compressão, união e outros. Essas tarefas específicas para pacotes pode ser automatizadas ao configurar executadores de tarefas para executar múltiplas tarefas de uma só vez.</p>

<p>Você aprenderá a usar pacotes do npm de ambas as formas em tutoriais futuros desta série.</p>

<h2>No Próximo Tutorial</h2>

<p>No próximo passo, aprenderemos a usar a linha de comando para adicionar uma nova camada de eficiência em nosso código <em>front end</em>, tanto na forma que desenvolvemos quanto na forma que ele é executado quando finalizado.</p>

<p>Você aprenderá como usar a linha de comando para compilação com préprocessadores, autoprefixamento com CSS, otimização de arquivos CSS e Javascript, e compilação de modelos HTML.</p>

<p>Vejo você o próximo tutorial, <em>Aprimorando o Código Front End</em>.</p>