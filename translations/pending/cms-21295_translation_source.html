<h1>50 Filters of WordPress: The First 10 Filters</h1>

<p>In the first post of the series, we introduced the idea of the world of filters within the context of WordPress. In this tutorial, we're going to start reviewing 50 selected filters by explaining what they do and see an example for each filter.</p>

<p>So, without further ado, here's the first batch of our 50 filters!</p>

<h2>Changing the Default Login Error Messages</h2>

<p>WordPress gives out too much information when it displays a login error: "The password you entered for the username <strong>barisunver</strong> is incorrect." That means hackers could try different usernames to find out which username we use. You can disable these kinds of messages thanks to this filter.</p>

<h3>Example: Fixing the "TMI Issue"</h3>

<p>Let's just change all the error messages to an empty string to prevent hackers finding out about our credentials:</p>

<pre class="brush: php">&lt;?php

add_filter( 'login_errors', 'login_errors_example' );

function login_errors_example( $error ) {
	$error = '';
	return $error;
}

?&gt;</pre>

<p>There. Much better.</p>

<h2>Redirecting Commenters to Another Page</h2>

<p>After posting a comment on WordPress, you stay on the same page. Yes, it's the logical thing to do, but did you know you can make your commenters redirect to another page after a successful comment? The <code>comment_post_redirect</code> filter lets us do that and I think I found the perfect example for this filter!</p>

<h3>Example: Redirect User to a Subscription Page After a Successful Comment</h3>

<p>Commenters are more likely to "follow" your blog posts, right? So if we redirect them to a page saying "Thank you for your comment! Would you like to subscribe to my blog?", we could turn those commenters to subscribers! And it's an easy task to do, too, with the help of our lovely <code>comment_post_redirect</code> filter:</p>

<pre class="brush: php">&lt;?php

add_filter( 'comment_post_redirect', 'comment_post_redirect_example' );

function comment_post_redirect_example( $location ) {
	return '/thanks-for-your-comment/';
}

?&gt;</pre>

<p>Note that WordPress uses the function <code>wp_safe_redirect()</code> which means you must use a local page or a page in allowed hosts (see the <code>allowed_redirect_hosts</code> filter below).</p>

<h2>Allowing External Redirection for the <code>wp_safe_redirect()</code> Function</h2>

<p>By default, the <code>wp_safe_redirect()</code> function doesn't allow external redirections. By using this filter, however, we can change that behavior and specify external hosts.</p>

<h3>Example: Allowing Subdomain Redirections</h3>

<p>Since the <code>wp_safe_redirect()</code> function allows only redirections within your WordPress installation, subdomains of your domain are off limits, too. </p>

<p>Let's make WordPress allow them:</p>

<pre class="brush: php">&lt;?php

add_filter( 'allowed_redirect_hosts', 'allowed_redirect_hosts_example' );

function allowed_redirect_hosts_example( $content ) {
	$content[] = 'forum.mywebsite.com';
	$content[] = 'welcome.mywebsite.com';
	$content[] = 'help.mywebsite.com';
	return $content;
}

// Example source: http://codex.wordpress.org/Plugin_API/Filter_Reference/allowed_redirect_hosts

?&gt;</pre>

<h2>Adding classes to <code>&lt;body&gt;</code></h2>

<p>The <code>body_class()</code> function is simply <em>awesome</em>. It provides different classes for the <code>body</code> tag on different pages so you can use your CSS file(s) more effectively. And with the filter with the same name, <code>body_class</code>, you can add or remove classes.</p>

<h3>Example: Adding Category Classes to the <code>&lt;body&gt;</code> Tags of Post Pages</h3>

<p>If you need different styling for each of your categories, the <code>body_class</code> filter can help you with that by adding classes with category names to the <code>body</code> tags of your single post pages. </p>

<p>Here's how:</p>

<pre class="brush: php">&lt;?php

add_filter( 'body_class', 'body_class_example' );

function body_class_example( $classes ) {
	if( is_single() ) {
		foreach( get_the_category( get_the_ID() ) as $category )
			$classes[] = 'cat-' . $category-&gt;category_nicename;
	}
	return $classes;
}

// Example source: https://codex.wordpress.org/Function_Reference/body_class#Add_Classes_By_Filters

?&gt;</pre>

<p>If you have a category named "World", you can use the <code>.cat-world</code> class to style posts in the "World" category.</p>

<h2>Changing the Locale</h2>

<p>WordPress is the #1 content management system in the world because it allows us to translate almost every bit of text in it. And the <code>locale</code> filter lets us set the locale for our WordPress installations.</p>

<h3>Example: Changing the Language of the Website With a URL Parameter</h3>

<p>If you have a multilingual website, an easy solution to a quick language switch would be via a URL parameter, like below:</p>

<pre class="brush: php">&lt;?php

add_filter( 'locale', 'locale_example' );

function locale_example( $lang ) {
	if ( 'tr' == $_GET['language'] ) {
		return 'tr_TR';
	} else {
		return $lang;
}
}

// Example source: http://codex.wordpress.org/Plugin_API/Filter_Reference/locale

?&gt;</pre>

<p>Now, when you set a url parameter like <code>mywebsite.com/?language=tr</code>, the locale of your website will be changed into Turkish. Not the post content, of course, but it's a start.</p>

<h2>Filtering Sanitization of Usernames</h2>

<p>WordPress cleans up usernames with a sanitization function named <code>sanitize_user()</code>. With the filter with the same name, you can customize this function.</p>

<h3>Example: Accept Usernames Only in Lowercase</h3>

<p>If you don't want to accept usernames with capital letters in it (whether it be "SHOUTINGBOY88" or "CrazyGirl92"), you can use PHP's <code>strtolower</code> function and hook it to the <code>sanitize_user</code> filter like below:</p>

<pre class="brush: php">&lt;?php

add_filter( 'sanitize_user', 'strtolower' );

// Example source: http://codex.wordpress.org/Plugin_API/Filter_Reference/sanitize_user

?&gt;</pre>

<p>This is probably one the easiest filter examples in this series.</p>

<h2>Filtering the Content of the Post</h2>

<p>This one doesn't need much introduction: The <code>the_content</code> filter allows us to tamper with the post content.</p>

<h3>Example: Removing the <code>&lt;p&gt;</code> Tags Wrapping Images</h3>

<p>WordPress doesn't let us display images outside of a paragraph – it automatically wraps them a <code>&lt;p&gt;</code> tag, which is annoying for me. If you're annoyed with it as well, you can remove the <code>&lt;p&gt;</code> tags with the help of this little code snippet:</p>

<pre class="brush: php">&lt;?php

add_filter( 'the_content', 'the_content_example' );

function the_content_example( $content ) {
	return preg_replace('/&lt;p&gt;\s*(&lt;a .*&gt;)?\s*(&lt;img .* \/&gt;)\s*(&lt;\/a&gt;)?\s*&lt;\/p&gt;/iU', '\1\2\3', $content);
}

// Example source: http://wpsnipp.com/index.php/functions-php/remove-p-tag-from-around-images-in-the_content/

?&gt;</pre>

<h2>Filtering the Forms for Password Protected Posts</h2>

<p>For password protected posts, WordPress automatically replaces the post content with a password form. With the <code>the_password_form</code> filter, you can edit this form.</p>

<h3>Example: Simplifying the Password Form</h3>

<p>If password protected posts are a regular thing for your WordPress website and you don't need the "This content is password protected. </p>

<p>To view it please enter your password below:" text over an over again in loops, you can clean up and simplify the password form with the help of this code snippet:</p>

<pre class="brush: php">&lt;?php

add_filter( 'the_password_form', 'the_password_form_example' );

function the_password_form_example() {
	$output  = '&lt;form action="' . esc_url( site_url( 'wp-login.php?action=postpass', 'login_post' ) ) . '" method="post"&gt;';
	$output .= '&lt;span&gt;' . __( "Enter the password:" ) . ' &lt;/span&gt;';
	$output .= '&lt;input name="post_password" type="password" size="20" /&gt;';
	$output .= '&lt;input type="submit" name="Submit" value="' . esc_attr__( "Go" ) . '" /&gt;';
	$output .= '&lt;/form&gt;';
	return $output;
}

// Example source: http://codex.wordpress.org/Using_Password_Protection#Password_Form_Text

?&gt;</pre>

<p>There you go; now you only have three words, a password input field and a submit button, all in a single line.</p>

<h2>Filtering the <code>the_terms()</code> Function</h2>

<p>If you're not satisfied with the output of the <code>the_terms()</code> function, or you simply want to use it with a different purpose, you can use the filter with the same name: <code>the_terms</code>.</p>

<h3>Example: Strip HTML Tags from the <code>the_terms()</code> Function</h3>

<p>A few years ago, I needed to be able to have the tags of my posts in plain text. I spent many, <em>many</em> hours to find a solution – turns out there was an extremely simple one:</p>

<pre class="brush: php">&lt;?php

add_filter( 'the_terms', 'strip_tags' );

?&gt;</pre>

<p>You can't imagine the look of my face when I found out that I can simply hook a core PHP function to the <code>the_terms</code> filter.</p>

<h2>Changing the Email Address to Send From</h2>

<p>When WordPress sends emails to you or your website's members, it uses an email address like <code>wordpress@yourwebsite.com</code>. With this filter, you can change that.</p>

<h3>Example: Setting Your Own Email Address as "From Email Address"</h3>

<p>With a function just returning a different email address, you can change the sender's email address of emails:</p>

<pre class="brush: php">&lt;?php

add_filter( 'wp_mail_from', 'wp_mail_from_example' );

function wp_mail_from_example( $email ) {
	return 'my.email.address@mywebsite.com';
}

?&gt;</pre>

<p>You can use it along with the <code>wp_mail_from_name</code> filter: Same logic, just write a function to return another string of a custom name and hook it to the <code>wp_mail_from_name</code> filter.</p>

<h2>Wrapping Up for Today</h2>

<p>We went through 10 of 50 filters in this article. I hope you liked and learned new things from it. See you in the next one!</p>

<p>I want to hear your thoughts, too. What do you think about these filters? Post your comments below; and if you liked the article, don't forget to share it!</p>