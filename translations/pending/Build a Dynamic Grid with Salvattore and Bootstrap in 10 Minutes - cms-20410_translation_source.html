<h1>Build a Dynamic Grid with Salvattore and Bootstrap in 10 Minutes</h1>

<p><a href="http://salvattore.com/">Salvattore</a> touts itself as a <a href="http://masonry.desandro.com/">jQuery Masonry</a> alternative with one important difference: it uses CSS configuration instead of JavaScript. These kinds of grids can be seen all over the web, probably most famously on <a href="http://www.pinterest.com/" target="_self">Pinterest</a>.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/30/posts/20410/image/pinterest.png"/>
</figure>

<p>Today, we will use Salvattore in combination with Twitter Bootstrap 3 to make a responsively awesome flowing grid structure.</p>

<h2>Getting started: What You'll Need</h2>

<p>First, you'll need to grab the Salvattore JavaScript library (<a href="https://raw.github.com/rnmp/salvattore/master/dist/salvattore.min.js" target="_self">minified</a> or <a href="https://raw.github.com/rnmp/salvattore/master/dist/salvattore.js">source</a>). Next, you'll want to link up Twitter Bootstrap's CSS. Instead of downloading and hosting our own copy, we'll borrow this directly from NetDNA's BootstrapCDN.</p>

<pre class="brush: html">&lt;html&gt; 
&lt;head&gt; 
        &lt;link rel="stylesheet" src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"&gt; 
        &lt;title&gt;Salvattore + Bootstrap&lt;/title&gt; 
    &lt;/head&gt; 
    &lt;body&gt; 
    
    &lt;!-- This is where the magic happens! --&gt; 
    
    &lt;script src="salvattore.js"&gt;&lt;/script&gt; 
    
    &lt;/body&gt; 
&lt;/html&gt;</pre>

<p>Once this is complete, you're ready to get started with configuring Salvattore! </p>

<p>Next, you'll need either an external stylesheet or a <code>&lt;style type='text/css'&gt;</code> tag in your header. Most of our work will be done in the stylesheet. </p>

<p><b>Note</b>: you must include <code>type</code> and <code>rel</code> attributes for Salvattore to work properly.</p>

<h2>A Quick Bootstrap Grid Primer</h2>

<p>Twitter Bootstrap provides a powerful, <a href="http://getbootstrap.com/examples/grid/" target="_self">flexible grid structure</a> which focuses on bottom-up media queries. Let's take a look at a common row of columns.</p>

<pre class="brush: html">&lt;div class="row"&gt; 
&lt;div class="col-xs-12 col-md-4"&gt;&lt;/div&gt; 
    &lt;div class="col-xs-6 col-sm-3 col-md-4"&gt;&lt;/div&gt; 
    &lt;div class="col-xs-6 col-sm-3 col-md-4"&gt;&lt;/div&gt; 
    &lt;div class="col-xs-12 col-sm-3 col-md-4"&gt;&lt;/div&gt; 
    &lt;div class="col-xs-6 col-md-4"&gt;&lt;/div&gt; 
    &lt;div class="col-xs-6 col-md-4"&gt;&lt;/div&gt; 
&lt;/div&gt;</pre>

<p>You'll notice in the above markup the pattern of <code class="inline">col-[size]-[column number]</code>. With available sizes of <code>xs</code>, <code>sm</code>,<code>md</code>, and <code>lg</code>, we are able to set different column sizes for different breakpoints without writing specific media queries. Take a look at <a href="http://codepen.io/jcutrell/pen/owLvF/">this example</a> which shows how the columns shift at different screen widths.</p>

<h2>Bootstrap Panels</h2>

<p>We will be creating a flowing grid using Bootstrap's panel component. The markup to create the panel is built like this:</p>

<pre class="brush: html">&lt;div class="panel panel-primary"&gt; 
&lt;div class="panel-heading"&gt;Panel heading without title&lt;/div&gt; 
    &lt;div class="panel-body"&gt;Panel content&lt;/div&gt; 
&lt;/div&gt;</pre>

<h2>Putting it Together with Salvattore Magic</h2>

<p>Now that we have the Bootstrap pieces we need, we're going to put it all together with Salvattore. For now, we'll start with six empty panels; later, we will make it all dynamic to give each panel some content.</p>

<p>For Salvattore to work properly, our grid container needs a <code>data-columns</code> attribute. Here is what our markup currently looks like:</p>

<pre class="brush: html">&lt;div id="grid" data-columns&gt; 
&lt;div class="panel panel-primary"&gt; 
        &lt;div class="panel-heading"&gt;Panel heading without title&lt;/div&gt;
        &lt;div class="panel-body"&gt; Panel content &lt;/div&gt; 
    &lt;/div&gt; 
    
    &lt;!-- repeat the panel as many times as you'd like --&gt; 
    
&lt;/div&gt;</pre>

<p>Next, we will go to our stylesheet and add the following labels via pseudo-elements:</p>

<pre class="brush: css">@media screen and (min-width: 1px) and (max-width: 767px){
#columns[data-columns]::before {
        content: '2 .col-xs-6';
    }
}
@media screen and (min-width:768px) and (max-width: 991px){
    #columns[data-columns]::before {
        content: '3 .col-sm-4';
    }
}
@media screen and (min-width:992px) and (max-width: 9999px){
    #columns[data-columns]::before {
        content: '4 .col-md-3';
    }
}
</pre>

<p>The breakpoints we've chosen map directly to Bootstrap's media queries. Salvattore uses the<code>::before</code> pseudo-element and <code>content</code> attribute to define the classes of the columns created, and then attempts to split the elements evenly into those columns.</p>

<h2>Making it Dynamic</h2>

<p>We've kept thing strictly within CSS so far, but if you'd like to go the extra mile, JavaScript can offer a few goodies.</p>

<p>Salvattore takes things a step further by offering appending functionality. With these functions and a connection to an API (we're using <a href="https://developers.google.com/books/" target="_self">Google's Book API</a> to pull in books by <a href="http://en.wikipedia.org/wiki/Ernest_Hemingway" target="_self">Ernest Hemingway</a>), we can build a dynamic grid. Here's the JavaScript we'll use:</p>

<pre class="brush: javascript">function append(title, content) {
// build/select our elements
    var grid = $('#columns')[0];
    var item = document.createElement('div');
    // build the html
    var h = '&lt;div class="panel panel-primary"&gt;';
    h += '&lt;div class="panel-heading"&gt;';
    h += title;
    h += '&lt;/div&gt;';
    h += '&lt;div class="panel-body"&gt;';
    h += content;
    h += '&lt;/div&gt;';
    h += '&lt;/div&gt;';
    salvattore['append_elements'](grid, [item])
    item.outerHTML = h;
}
$.getJSON("https://www.googleapis.com/books/v1/volumes?q=inauthor:Ernest+Hemingway&amp;callback=?", function (data) {
    $(data.items).each(function (i, book) {
        append(book.volumeInfo.title, book.volumeInfo.description);
    });
});</pre>

<p><b>Note:</b>  jQuery Required</p>

<p>First we create an <code class="inline">append</code> function which takes our title and content, and wraps them in our panel markup. We then use the <code>salvattore['append_elements'](grid, [item])</code> function to add the item to our grid. Finally, we run the AJAX call to pull in the dynamic data.</p>

<p>For this to work properly, we'll want to remove all of the contents in the grid holder.</p>

<pre class="brush: html">&lt;div id="grid" data-columns&gt;&lt;/div&gt;</pre>

<p>Salvattore will fill in the columns for us.</p>

<p>Our final markup looks like this:</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;

&lt;html&gt;
&lt;head&gt;
&lt;link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet"&gt;
    &lt;style type="text/css"&gt;
        @media screen and min-width 1px and max-width 767px {
            #columns[data-columns]::before {
                content: '2 .col-xs-6';
            }
        
        }
        
        @media screen and min-width768px and max-width 991px {
            #columns[data-columns]::before {
                content: '3 .col-sm-4';
            }
        
        }
        
        @media screen and min-width992px and max-width 9999px {
            #columns[data-columns]::before {
                content: '4 .col-md-3';
            }
        
        }       
    &lt;/style&gt;

    &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="container"&gt;
        &lt;h1 class="col-xs-12"&gt;Books by Ernest Hemingway&lt;/h1&gt;

        &lt;div data-columns="" id="columns"&gt;
            &lt;div&gt;&lt;/div&gt; 
            &lt;div&gt;&lt;/div&gt; 
            &lt;div&gt;&lt;/div&gt;          
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;script src="http://code.jquery.com/jquery-1.10.1.min.js"&gt;&lt;/script&gt;
    &lt;script src="salvattore.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        function append(title, content) {
            var grid = document.querySelector('#columns');
            var item = document.createElement('div');
            var h = '&lt;div class="panel panel-primary"&gt;';
            h += '&lt;div class="panel-heading"&gt;';
            h += title;
            h += '&lt;/div&gt;';
            h += '&lt;div class="panel-body"&gt;';
            h += content;
            h += '&lt;/div&gt;';
            h += '&lt;/div&gt;';
            salvattore['append_elements'](grid, [item]) item.outerHTML = h;
        }
        $.getJSON("https://www.googleapis.com/books/v1/volumes?q=inauthor:Ernest+Hemingway&amp;callback=?", function (data) {
            $(data.items).each(function (i, book) {
                append(book.volumeInfo.title, book.volumeInfo.description);
            });
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<h2>Conclusion</h2>

<p><a href="http://salvattore.com/" target="_self">Salvattore</a> makes creating dynamic Masonry-style grids very easy for someone who doesn't know a lot of JavaScript. Saying that, with a small amount of JavaScript, creating dynamic grids coupled with dynamic content is a breeze. Lastly, Bootstrap provides flexible class naming structure to easily construct grids for any breakpoint.</p>