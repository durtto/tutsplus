<h1>A Simple Responsive Grid, Made Even Better With Sass</h1>

<p>In this tutorial we're going to build a simple, responsive grid system using CSS. Once we're familiar with how it works, we'll improve it with Sass, learning some core Sass features along the way.</p>

<h2>Getting Started With the CSS</h2>

<p>Let's quickly examine what our grid system will look like. There are cleverer ways of building grids, ones which are less intrusive on the markup needed, but this grid gives us a great opportunity to practice simple, yet useful Sass techniques. It uses one wrapping element, then other elements within that which act as rows, then more elements within those which act as our columns.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/30/posts/21540/image/grid.png"/>
  <figcaption>A bit trippy, but you get the idea..</figcaption>
</figure>

<h3>Grid.css</h3>

<p>To begin with, all we need is a CSS file, so open up a new document in your code editor and name it "grid.css".</p>

<p>The first thing we're going to add is a global reset and box-sizing rule. This will make sure that padding applied to our elements is added <em>within</em> their calculated dimensions, giving us far more freedom for defining column widths.</p>

<pre class="brush: css">*,
*:after,
*:before {
	margin: 0;
	padding: 0;
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box; 
	}
</pre>

<p>Next we'll add a rule to make sure any images used behave fluidly.</p>

<pre class="brush: css">img {
	width: auto;
	max-width: 100%;
	height: auto !important; 
	}
</pre>

<h3>The Wrapper</h3>

<p>Now some rules to make sure our wrapper element behaves itself.</p>

<pre class="brush: css">.wrapper {
	width: 100%;
	margin: 0 auto;
}
</pre>

<p><strong>Note:</strong> Bear in mind we're working mobile first. Our container starts out at 100% viewport width, but we'll alter that for larger screens.</p>

<h3>The Rows</h3>

<p>All our row elements do is contain the columns, making sure that groups of columns clear each other properly. Let's add some general <code>.clearfix</code> rules to our wrapper and row elements.</p>

<pre class="brush: css">.wrapper:after,
.row:after {
	  content: "";
	  display: table;
	  clear: both; 
	  }
</pre>

<p><strong>Note:</strong> We don't have to name these elements <code>.wrapper</code>, <code>.row</code> and <code>.column</code>, we can be much more creative than that. These names are just very clear for the purposes of this tutorial.</p>

<h3>The Columns</h3>

<p>We're going to have a range of column classes, depending on the size of each one (for example <code>.column-1</code> and <code>.column-6</code>. Let's use an attribute selector to target and style all of these in one go.</p>

<pre class="brush: css">[class*='column-'] {
	float: left;
	padding: 1em;
	width: 100%;
	min-height: 1px; 
	}
</pre>

<p>This selector says; take any element whose class contains the string <code>column-</code> and apply the following styles. Therefore all our column elements will float left, will have a padding of <code>1em</code> (this forms our gutter and some vertical space) and will fill 100% of the viewport width (again, we're working mobile first here). Lastly, the <code>min-height: 1px</code> makes sure that the column displays properly, even if it has no content.</p>

<p>Believe it or not, we now have ourselves a grid! The following markup is all we need.</p>

<pre class="brush: html">&lt;section class="wrapper"&gt;

&lt;div class="row"&gt;
	
		&lt;div class="column-3"&gt;&lt;/div&gt;
		&lt;div class="column-3"&gt;&lt;/div&gt;
		&lt;div class="column-6"&gt;&lt;/div&gt;
	
	&lt;/div&gt;

&lt;/section&gt;</pre>

<p>We can use any combination of columns within rows, <a href="http://tutsplus.github.io/a-simple-responsive-grid-made-even-better-with-sass/demo-1/" target="_self">take a look at the demo</a> to see what you should currently have.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/30/posts/21540/image/simple-grid.png"/>
  <figcaption>This screenshot shows several more columns than in the snippet above</figcaption>
</figure>

<h2>Going Responsive</h2>

<p>That's our mobile view taken care of, now let's add a media query to give us a different layout for larger screens. You'll need to determine breakpoints for your own grid, but we're going to use one arbitrary breakpoint of <code>30em</code>.</p>

<pre class="brush: css">@media only screen and (min-width: 30em) {

}
</pre>

<p>Any styles we place within this media query will take effect on screens of 30em and wider. We'll use this point to split up our columns into correct widths.</p>

<h3>% Widths</h3>

<p>How wide should each column be? That depends on how many columns we have. For this demonstration I'm going work with twelve columns, so each one should be exactly one twelfth (1/12) of the wrapper. For a column which spans two widths, it will be <i>two twelfths</i>, and so on. Here's what that gives us:</p>

<pre class="brush: css">@media only screen and (min-width: 30em) {

	.wrapper {
		width: 95%;
		max-width: 65em; 
		}
		
	.column-1 {
		width: 8.33333%; 
		}
		
	.column-2 {
		width: 16.66667%; 
		}
		
	.column-3 {
		width: 25%; 
		}
		
	.column-4 {
		width: 33.33333%; 
		}
		
	.column-5 {
		width: 41.66667%; 
		}
		
	.column-6 {
		width: 50%; 
		}
		
	.column-7 {
		width: 58.33333%; 
		}
		
	.column-8 {
		width: 66.66667%; 
		}
		
	.column-9 {
		width: 75%; 
		}
		
	.column-10 {
		width: 83.33333%; 
		}
		
	.column-11 {
		width: 91.66667%; 
		}
		
	.column-12 {
		width: 100%; 
		} 

}
</pre>

<p>You'll also see that we've made the <code>.wrapper</code> element less than the full width of the screen and given it a <code>max-width</code>. Take a look what that's done <a href="http://tutsplus.github.io/a-simple-responsive-grid-made-even-better-with-sass/demo-2/" target="_self">to our grid</a>.</p>

<figure class="post_image">
  <img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/30/posts/21540/image/grid-media-query.png"/>
  <figcaption>You'll probably want to choose more appropriate padding in your own grid</figcaption>
</figure>

<h2>Cleaning Things up With Sass</h2>

<p>Our CSS grid works, but what would happen if we actually wanted sixteen columns in our grid? Or even more? We'd have to recalculate every column and manually enter it in our CSS file each time. Not to mention that our CSS would get longer and longer and more difficult to manage. Happily, Sass (or any other preprocessor) can help us.</p>

<h3>Setting up Sass</h3>

<p>This tutorial isn't about setting up Sass, it assumes you already know how to do that. If that's not the case and you need to get things up and running take a look at <a href="https://code.tutsplus.com/articles/mastering-sass-lesson-1--net-19032">Mastering Sass: Lesson 1</a>, or <a href="https://webdesign.tutsplus.com/articles/sass-and-compass-for-web-designers-introduction--webdesign-5561">SASS and Compass for Web Designers: Introduction</a>.

</p>

<p>Once you have a Sass project setup, dive into the next step.</p>

<h3>Defining Variables</h3>

<p>Sass is going to help us clean up our CSS in all sorts of ways, but the first thing we can do is extract any useful values and store them in variables. Begin by starting off a new <i>partial</i> called "_variables.scss"; a Sass file which won't be compiled into CSS directly, but we'll reference in our other files.</p>

<pre class="brush: css">// grid variables
$grid-columns: 12;
$grid-max-width: 65em;


// breakpoints
$breakpoint-small: "only screen and (min-width: 20em)";
$breakpoint-medium: "only screen and (min-width: 30em)";
</pre>

<p>These variables give us the amount of columns we want to work with; 12 at the moment, but could easily be altered to 16, perhaps 32 (whatever you want really). We've also stored some breakpoints in variables as strings, even though we're only using one at the moment.</p>

<p>We'll use these shortly, but first we'll setup some mixins.</p>

<h3>Mixins</h3>

<p>Sass mixins are chunks of code which we can define once and then re-use elsewhere in our project. For example, we could take the very first set of rules where we setup <code>border-box</code> and extract most of that into a mixin. We start with:</p>

<pre class="brush: css">*,
*:after,
*:before {
	margin: 0;
	padding: 0;
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
	}
</pre>

<p>Then we pull out part of it which we can reuse, defining a mixin which I've called "border-box" like so:</p>

<pre class="brush: css">@mixin border-box {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box; 
	}
</pre>

<p>Then, we <code>@import</code> our variables and mixins into the main "grid.scss", using the mixin with an <code>@include</code> statement.</p>

<pre class="brush: css">@import "variables";
@import "mixins";

*,
*:after,
*:before {
	margin: 0;
	padding: 0;

	@include border-box;

	}
</pre>

<h3>@extend Clearfix</h3>

<p>We can do a similar thing with the clearfix rules, as <a href="http://zerosixthree.se/8-sass-mixins-you-must-have-in-your-toolbox/">suggested by Sebastian Ekstr√∂m</a>. In this case we take the clearfix rules recommended by <a href="https://twitter.com/necolas" target="_self">Nicolas Gallagher</a> and add them to our mixin file with a <em>placeholder selector</em> (<code>%</code>):

</p>

<pre class="brush: css">%clearfix {
	*zoom: 1;
	&amp;:before, 
	&amp;:after {
		content: " ";
		display: table;
	}
	&amp;:after {
		clear: both;
	}
}
</pre>

<p>The placeholder selector allows us to define whole chunks of style which only get output when we extend them elsewhere, like this:</p>

<pre class="brush: css">.wrapper,
.row {
	@extend %clearfix;
}
</pre>

<p>Once compiled, that neat few lines of Sass looks like this:</p>

<pre class="brush: css">.wrapper,
.row {
	*zoom: 1; 
	}
.wrapper:before,
.row:before,
.wrapper:after,
.row:after {
	content: " ";
	display: table; 
	}
.wrapper:after,
.row:after {
	clear: both; 
	}
</pre>

<h3>Using Our Variables</h3>

<p>Let's make use of some of those variables we set up, shall we? To begin with we can swap out the <code>max-width</code> value on the wrapper. This:</p>

<pre class="brush: css">.wrapper {
	width: 95%;
	max-width: 65em; 
	}
</pre>

<p>becomes this:</p>

<pre class="brush: css">.wrapper {
	width: 95%;
	max-width: $grid-max-width; 
	}
</pre>

<p>Now let's do the same with our media query. This:</p>

<pre class="brush: css">@media only screen and (min-width: 30em) {
</pre>

<p>will be improved with our <code>$breakpoint-medium</code> variable:</p>

<pre class="brush: css">@media #{$breakpoint-medium} {
</pre>

<p><strong>Note:</strong> you'll see we wrapped our variable in <code>#{}</code>. This is referred to as <em>interpolation</em>. This is normally done if we need to output a variable within another, but it's necessary in this case because the Sass compiler trips over media queries if <code>@media</code> isn't directly followed by braces <code>()</code>. You can read more about this in Hugo Giraudel's <a href="https://webdesign.tutsplus.com/tutorials/all-you-ever-need-to-know-about-sass-interpolation--cms-21375">All You Ever Need to Know About Sass Interpolation</a>.

</p>

<p>To use our final variable,¬†<code>$grid-columns</code>, we need to make use of some more Sass functionality; loops.</p>

<h3>Sass Loops</h3>

<p>Our column width definitions are all exactly the same, apart from the actual values. It will be far cleaner if we output a column definition for as many columns as we need, changing the values each time. To do this we can use a Sass <code>@for</code> loop, which looks like this:</p>

<pre class="brush: css">@for $i from 1 through 12 {
// looped content
}
</pre>

<p>This will loop over 12 iterations, and each time the value of <code>$i</code> will reflect that loop. We can output <code>$i</code> like this:</p>

<pre class="brush: css">@for $i from 1 through 12 {

	.column-#{$i} { 
	
		}

}
</pre>

<p>Again, you'll notice we're using <code>#{}</code> around <code>$i</code> to output the value as a string which we're appending to the <code>.column-</code> selector. This gives us the following when compiled:</p>

<pre class="brush: css">.column-1 {

	}

.column-2 {

	}

.column-3 {

	}

.column-4 {
	
	}

.column-5 {

	}

.column-6 {

	}

.column-7 {

	}

.column-8 {

	}

.column-9 {

	}

.column-10 {

	}

.column-11 {

	}

.column-12 {

	}
</pre>

<p>Brilliant! Let's now use some calculations to output the correct styles within these selectors.</p>

<h3>Sass Operators</h3>

<p>We're doing well, but we now need to output something like the following for each selector:</p>

<pre class="brush: css">.column-5 {
	width: 41.66667%; 
	}
</pre>

<p>That column width is calculated as 100% divided by the total number of columns, multiplied by the column number. In this case <code>100% / 12 * 5 =  41.66667%</code>. That's therefore the calculation we need to apply, switching out the relevant values for variables.</p>

<pre class="brush: css">@for $i from 1 through 12 {

	.column-#{$i} { 
		width: 100% / 12 * $i;
	}

}
</pre>

<p>Sass is now performing the calculations for us, giving us the following:</p>

<pre class="brush: css">.column-1 {
	width: 8.33333%;
}

.column-2 {
	width: 16.66667%;
}

.column-3 {
	width: 25%;
}

.column-4 {
	width: 33.33333%;
}

.column-5 {
	width: 41.66667%;
}

.column-6 {
	width: 50%;
}

.column-7 {
	width: 58.33333%;
}

.column-8 {
	width: 66.66667%;
}

.column-9 {
	width: 75%;
}

.column-10 {
	width: 83.33333%;
}

.column-11 {
	width: 91.66667%;
}

.column-12 {
	width: 100%;
}
</pre>

<p>As a final bit of tidying up, we can use the <code>$grid-columns</code> variable, instead of the value <code class="inline">12</code>:</p>

<pre class="brush: css">@for $i from 1 through $grid-columns {

	.column-#{$i} { 
		width: 100% / $grid-columns * $i;
	}

}
</pre>

<p>Now, if we want to change the number of columns, we simply change the variable and the calculations will all be done for us! For example, changing¬†<code class="inline">$grid-columns</code> to <code class="inline">4</code> give us the following CSS:</p>

<pre class="brush: css">@media only screen and (min-width: 30em) {
  .wrapper {
width: 95%;
    max-width: 65em; }

  .column-1 {
    width: 25%; }

  .column-2 {
    width: 50%; }

  .column-3 {
    width: 75%; }

  .column-4 {
    width: 100%; } 
}</pre>

<h2>Conclusion</h2>

<p>Our final grid.scss is a paltry 42 lines of code; way less than our initial CSS.</p>

<pre class="brush: css">@import "variables";
@import "mixins";

*, *:after, *:before {
	margin: 0;
	padding: 0;
	@include border-box;
	}
	
img {
	width: auto;
	max-width: 100%;
	height: auto !important; 
	}	

.wrapper {
	width: 100%;
	margin: 0 auto;
	}

.wrapper, .row {
	@extend %clearfix;
	}
	 
[class*='column-'] {
	float: left;
	padding: 1em;
	width: 100%;
	min-height: 1px; 
	}	

@media #{$breakpoint-medium} {
	.wrapper {		
		width: 95%;
		max-width: $grid-max-width;		
		}
	@for $i from 1 through $grid-columns {	  	
	  	.column-#{$i} { 		
	  		width: 100% / $grid-columns * $i;	
	  		}	  		
	  	}	
	}
</pre>

<p>Throughout this process we've looked at Sass variables, mixins, placeholders, extend, loops, operators and even interpolation. This is an incredibly powerful set of features and a great start if you're just getting into Sass.</p>

<p>How else could you improve <a href="http://tutsplus.github.io/a-simple-responsive-grid-made-even-better-with-sass/demo-3/" target="_self">the grid we've built</a>? What else would you add or even remove? Let us know in the comments!</p>

<h3>Further Reading</h3>

<ul>
  <li><a href="http://zerosixthree.se/8-sass-mixins-you-must-have-in-your-toolbox/" target="_self">8 Sass mixins you must have in your toolbox</a></li>
  <li><a href="https://webdesign.tutsplus.com/articles/sass-and-compass-for-web-designers-introduction--webdesign-5561" target="_self">SASS and Compass for Web Designers: Introduction</a></li>
  <li><a href="https://webdesign.tutsplus.com/tutorials/stir-up-your-own-delicious-sass-mixins--webdesign-10576" target="_self">Stir up Your Own Delicious Sass Mixins</a></li>
  <li>Anything by¬†<a href="https://tutsplus.com/authors/hugo-giraudel" target="_self">Hugo Giraudel</a></li>
</ul>