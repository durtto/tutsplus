<h1>Fifty Actions of WordPress – 50 Examples (1 to 10)</h1>

<p><a href="https://code.tutsplus.com/tutorials/fifty-actions-of-wordpress-an-introduction--cms-21577" rel="external" target="_blank">The previous part</a> of our series was the "introduction" to the world of WordPress actions. In this tutorial, we're going to start reviewing 50 selected actions by explaining what they do and see an example for each action.</p>

<p>So, without further ado, here's the first batch of our 50 actions!</p>

<h2>Handling the WordPress Initialization</h2>

<p>This action, in short, is fired off right after everything's ready except the headers. And that's why this action is probably the most popular WordPress action of all time – because you can hook almost anything to it.</p>

<h3>Changing a Few Default Rewrite Rules</h3>

<p>As a Turkish WordPress user, I find it odd (and kind of frustrating) that WordPress doesn't allow us change the URL bases for author pages, search results, or paginated archive pages in the admin panel.</p>

<p> The code snippet below, though, helps me with this issue:</p>

<pre class="brush: php">&lt;?php

add_action( 'init', 'init_example' );

function init_example() {
global $wp_rewrite;
    $wp_rewrite-&gt;author_base = 'profile';
    $wp_rewrite-&gt;search_base = 'find';
    $wp_rewrite-&gt;pagination_base = 'p';
}

?&gt;</pre>

<p>Cool, huh? (Of course, I replaced the Turkish words with 'profile', 'find' and 'p' to make it clear.)</p>

<h2>Sending HTTP Headers</h2>

<p>This doesn't need an introduction as its name explains itself: This handy little action allows us to set the HTTP headers to send!</p>

<h3>Make Internet Explorer Use the Latest Rendering Engine</h3>

<p>The <code>X-UA-Compatible</code> meta tag makes Internet Explorer use the specified rendering engine for the web page. If you set it to <code>"edge"</code>, Internet Explorer will use the latest rendering engine; however, it breaks HTML validation if used with the Google Chrome Frame.</p>

<p>Luckily, we're not limited with the <code>&lt;meta&gt;</code> tag usage: We can use HTTP headers, too. And the <code>send_headers</code> action is perfect for the job:</p>

<pre class="brush: php">&lt;?php

add_action( 'send_headers', 'send_headers_example' );

function send_headers_example() {
	header( 'X-UA-Compatible: IE=edge,chrome=1' );
}

// Example Source: http://codex.wordpress.org/Plugin_API/Action_Reference/send_headers

?&gt;</pre>

<h2>Switching Themes</h2>

<p>If you want to run some errands after you switch themes in WordPress, you can count on the <code>after_switch_theme</code> action.</p>

<h3>Flushing the Rewrite Rules After Switching a Theme</h3>

<p>Let's do an easy one: How do you flush rewrite rules after switching to a new theme, because the new theme has new custom post types? </p>

<p>Well, you use the code below:</p>

<pre class="brush: php">&lt;?php

add_action( 'after_switch_theme', 'after_switch_theme_example' );

function after_switch_theme_example() {
	flush_rewrite_rules();
}

// Example Source: http://wpdevsnippets.com/flush-rewrite-rules/

?&gt;</pre>

<p>Easy, right? </p>

<p>For some reason, I couldn't make it work by hooking the <code>flush_rewrite_rules()</code> function to the <code>after_switch_theme</code> action and I couldn't find out why – if you have the answer, enlighten us in the comments.</p>

<h2>Adding Custom Columns to the Posts List</h2>

<p>This handy little action allows us to create additional columns to the posts list in the "All Posts" admin page.</p>

<h3>Display Each Post's Attachment Count in a Column</h3>

<p>Imagine that you need to see how many files you attached to each of your posts because, say, you want to double-check that you attached 10 gallery images for every post of yours. Instead of counting them one by one in the Media Library, you can add an extra column to the listing in the "All Posts" page like this:</p>

<pre class="brush: php">&lt;?php

add_filter( 'manage_posts_columns', 'manage_posts_columns_example', 5 );
add_action( 'manage_posts_custom_column', 'manage_posts_custom_column_example', 5, 2 );

function manage_posts_columns_example( $columns ) {
	$columns['post_attachments'] = __( 'Attached', 'theme-name' );
	return $columns;
}

function manage_posts_custom_column_example( $column_name, $post_id ) {
	if( 'post_attachments' == $column_name ) {
		$attachments = get_children( array( 'post_parent' =&gt; $post_id ) );
		$count = count( $attachments );
		if( $count != 0 ) {
			echo $count;
    }
	}
}

// Example Source: http://wpsnipp.com/index.php/functions-php/display-post-attachment-count-in-admin-column/

?&gt;</pre>

<p>Granted, this is an example for a very spesific scenario. But remember that you saw it on Tuts+ Code – you never know when you'll need it!</p>

<h2>Working With the <code>&lt;head&gt;</code> of Admin Pages</h2>

<p>From time to time, we might need to inject things into the <code>&lt;head&gt;</code>s of the pages of our administration panel. And the <code>admin_head</code> action does exactly that!</p>

<h3>Displaying a Different Favicon in the Back End</h3>

<p>This quick and simple example demonstrates how to inject the necessary HTML code for a "favicon" into your admin panel's <code>&lt;head&gt;</code> with ease:</p>

<pre class="brush: php">&lt;?php

add_action( 'admin_head', 'admin_head_example' );

function admin_head_example() {
	echo '&lt;link rel="shortcut icon" type="image/x-icon" href="' . get_bloginfo('template_directory') . '/images/admin-favicon.ico" /&gt;';
}

// Example Source: http://wpdevsnippets.com/wp-admin-custom-favicon/

?&gt;</pre>

<p>Place an <code>admin-favicon.ico</code> file inside the <code>/images/</code> folder in your theme and you're good to go!</p>

<h2>Injecting Code Into the <code>wp_footer()</code> Function</h2>

<p>This action is called when the function with the same, <code>wp_footer()</code> name is run. You can use it to customize the output of the function.</p>

<h3>Displaying a Quick Performance Report for Admins</h3>

<p>Want to see a quick report of how many queries your pages run and how much memory they use? These bits of code will help you with that:</p>

<pre class="brush: php">&lt;?php

add_action( 'wp_footer', 'wp_footer_example' );

function wp_footer_example() {
$stat = sprintf( '%d queries in %.3f seconds, using %.2fMB memory',
		get_num_queries(),
		timer_stop( 0, 3 ),
		memory_get_peak_usage() / 1024 / 1024
	);
    if( current_user_can( 'manage_options' ) ) {
		echo "&lt;!-- {$stat} --&gt;";
    }
}

// Example Source: http://wordpress.stackexchange.com/a/1866

?&gt;</pre>

<p>Now you will see a commented out piece of information about your queries in the source code of your web pages. Don't worry: Non-administrators won't see this.</p>

<h2>Handling the Enqueuing of Frontend Scripts</h2>

<p>This is one of the fundamental need-to-know actions if you're working with themes: The <code>wp_enqueue_scripts</code> action handles the process of enqueuing scripts and styles in the front-end.</p>

<h3>The Correct Usage of the <code>wp_enqueue_script()</code> Function</h3>

<p>There are many ways to enqueue scripts and styles in the front-end, but there's only one correct way to do it:</p>

<pre class="brush: php">&lt;?php

add_action( 'wp_enqueue_scripts', 'wp_enqueue_scripts_example' );

function wp_enqueue_scripts_example() {
	// you can enqueue scripts...
	wp_enqueue_script( 'my-script', get_stylesheet_directory_uri() . '/scripts/my-script.js' );
	// ...and styles, too!
	wp_enqueue_style( 'my-style', get_stylesheet_directory_uri() . '/styles/my-style.css' );
}

?&gt;</pre>

<h2>Creating Admin Page Notices</h2>

<p>The action <code>admin_notices</code> is responsible for all the warnings, errors or other messages displayed in the header of admin pages. You can use it to display your own messages, too.</p>

<h3>Warning Logged-in Users About Website Maintenance</h3>

<p>Suppose you're moving servers and you need to inform your authors about the situation: They shouldn't post anything! You can lock down the entire admin panel to non-admins, or you can display a simple warning message like this:</p>

<pre class="brush: php">&lt;?php

add_action( 'admin_notices', 'admin_notices_example' );

function admin_notices_example() {  
	echo '&lt;div class="error"&gt;
			&lt;p&gt;We are performing website maintenance. Please don\'t make any changes in your posts until further notice!&lt;/p&gt;
		  &lt;/div&gt;';
}

// Example Source: http://wpsnippy.com/show-notification-message-wordpress-admin-pages/

?&gt;</pre>

<p>We used the "error" class here. If you want a green border (which means more like a "success" message), you can use the "updated" class.</p>

<h2>Handling the Initialization of Widgets </h2>

<p>WordPress widgets are an excellent system that allows us developers to create and edit parts of our websites. And the <code>widgets_init</code> action lets us modify the behavior of widgets if necessary.</p>

<h3>Prevent Loading Default WordPress Widgets</h3>

<p>For some reason, you might want to disable the usage of default WordPress widgets altogether. If that's the case, the code snippet below will help you completely remove those widgets from your WordPress installation:</p>

<pre class="brush: php">&lt;?php

add_action( 'widgets_init', 'widgets_init_example' );

function widgets_init_example() {
	unregister_widget( 'WP_Widget_Pages' );
	unregister_widget( 'WP_Widget_Calendar' );
	unregister_widget( 'WP_Widget_Archives' );
	unregister_widget( 'WP_Widget_Links' );
	unregister_widget( 'WP_Widget_Meta' );
	unregister_widget( 'WP_Widget_Search' );
	unregister_widget( 'WP_Widget_Text' );
	unregister_widget( 'WP_Widget_Categories' );
	unregister_widget( 'WP_Widget_Recent_Posts' );
	unregister_widget( 'WP_Widget_Recent_Comments' );
	unregister_widget( 'WP_Widget_RSS' );
	unregister_widget( 'WP_Widget_Tag_Cloud' );
}

?&gt;</pre>

<p>Of course, you can comment out or remove the lines to allow some widgets to load.</p>

<h2>Deleting WordPress Users</h2>

<p>Need to do stuff each time a user is deleted? The <code>delete_user</code> is your guy: It's triggered after a user gets deleted.</p>

<h3>Emailing the Poor Guy After Deleting His Account</h3>

<p>If you have a website that occasionally attracts bad people and you need to delete users frequently, you might want to consider letting them know that their user accounts are deleted. The code snippet below will help you:</p>

<pre class="brush: php">&lt;?php

add_action( 'delete_user', 'delete_user_example' );

function delete_user_example( $user_id ) {
	global $wpdb;
	$user_obj = get_userdata( $user_id );
	$email = $user_obj-&gt;user_email;
	$headers = 'From: ' . get_bloginfo( 'name' ) . ' &lt;' . get_bloginfo( 'admin_email' ) . '&gt;' . "\r\n";
	$subject = 'You are being deleted, brah';
	$message = 'Your account at ' . get_bloginfo( 'name' ) . ' has been deleted because of your totally uncool behaviors.';
	wp_mail( $email, $subject, $message, $headers );
}

// Example Source: http://codex.wordpress.org/Plugin_API/Action_Reference/delete_user

?&gt;</pre>

<p>If you want, you can replace the <code>$subject</code> and <code>$message</code> variables with more <em>formal</em> messages.</p>

<h2>Wrapping Up for Today</h2>

<p>We went through 10 of 50 actions in this article. I hope you liked and learned new things from it. See you in the next one!</p>

<p>I want to hear your thoughts, too. What do you think about these actions? Post your comments below; and if you liked the article, don't forget to share it!</p>