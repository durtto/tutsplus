<h1>Introdução ao Conjunto MEAN</h1>

<p>Construir aplicações para web involve o uso de diversas tecnologias e ferramentas, trabalhar com manipulação de bases de dados, operações do lado do servidor e, também, a manipulação e exibição de dados no lado do cliente, advindos do servidor. Antes de começar um novo projeto, todas as ferramentas e estruturas do projeto precisam ser configuradas, o que é uma tarefa bastante demorada. Usar uma <em>framework</em> ou um <em>conjunto</em> de ferramentas para esse tipo de tarefa pode acelerar e facilitar o trabalho do desenvolvedor.</p>

<h2>O que é MEAN</h2>

<p>"<a href="http://mean.io" target="_self">MEAN</a> é um conjunto de soluções em JavaScript para aplicações web modernas".<br></p>

<p>É isso o que os autores do conjunto MEAN afirmam em seu site. Está bem claro que o MEAN foca em todos os tipos de desenvolvedores JavaScript (tanto do lado cliente quanto do servidor) e também mostra que, além de um conjunto, é uma plataforma, indicando que há vários componentes que o constitui.</p>

<p>Os componentes são:</p>

<ul> <li><a href="http://www.mongodb.org/" target="_self">MongoDB</a></li>
<li><a href="http://expressjs.com/" target="_self">Express</a></li>
<li><a href="http://angularjs.org/" target="_self">AngularJS</a></li>
<li><a href="http://nodejs.org/" target="_self">NodeJS</a></li>
</ul>

<p>Como pode ver, o MEAN junta quatro das tecnologias mais apreciadas no ambiente JavaScript, preparando a fundação para a construção de aplicações web mais complexas de forma mais fácil.</p>

<h2>Instalação</h2>

<p>O conjunto MEAN pode ser instalado de duas formas:</p>

<ul> <li>Usando o site <a href="http://mean.io/">mean.io</a>;</li>
<li>Usando vários gerados do <a href="http://yeoman.io/" target="_self">Yeoman </a>.</li>
</ul>

<h3>Instalando o MEAN Usando O Site</h3>

<p>Visite o site <a href="http://mean.io/" target="_self">mean.io</a> e siga as instruções para o download do pacote.</p>

<p>Outra opção disponível a partir daqui é clonar o repositório Git. Abra seu terminal/linha de comando e digite o comando a seguir:</p>

<pre class="brush: bash">git clone https://github.com/linnovate/mean.git</pre>

<h3>Instalando o MEAN Usando Yeoman</h3>

<p>Existem vários geradores do Yeoman, criados por diferentes e diversos desenvolvedores. Usar um gerador para instalar o MEAN é um processo de dois passos. Primeiro, instale o gerador:</p>

<pre class="brush: bash">npm install -g generator-meanstack</pre>

<p>Então, use o comando <code>yo</code> para criar o app:</p>

<pre class="brush: bash">yo meanstack</pre>

<p>O exemplo acima assume que o gerador <code class="inline">meanstack</code>, bem como o Yeoman estejam instalados. Para uma lista de geradores MEAN, consulte esse <a href="http://yeoman.io/community-generators.html">link</a> e filtre pelo termo "mean". Para informações sobre a instalação do Yeoman, consulte o site do <a href="http://yeoman.io">Yeoman</a>.</p>

<p>Addy Osmani publicou um <a href="http://addyosmani.com/blog/full-stack-javascript-with-mean-and-yeoman/">post</a> muito interessante sobre o conjunto MEAN e os geradores Yeoman. Recomendo, fortemente, a leitura desse post, para descobrir como instalar, sem problemas, usando os geradores.</p>

<p>Para os propósitos desse artigo, utilizarei a abordagem da clonagem do repositório do <a href="http://git-scm.com/" target="_self">Git</a>.</p>

<h3>Pós-Instalação</h3>

<p>Após a instalação, acesse o diretório da instalação do MEAN (ainda no terminal, use <code>cd</code>) e execute o comando <code>grunt</code> (você deve ter o <code class="inline">grunt-cli</code> instalado). Esse comando iniciará um servidor que rodará/escutará na porta 3000, de forma que, ao visitar o endereço <code>http://localhost:3000</code> em seu navegador, você verá algo mais ou menos assim:</p>

<figure class="post_image"><img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/45/posts/19918/image/site.jpeg"></figure>

<h2>O Que Obtemos Após a Instalação</h2>

<p>O conjunto MEAN é, na verdade, um sistema de blog funcional. Ele possui sistema de autenticação que pode utilizar vários meios: Facebook, GitHub, Twitter ou Google e, também, através do boa e velha dupla e-mail e senha.</p>

<p>Creio que já esteja curioso para ver algum código, não é? Então, vejamos. A estrutura do diretório do conjunto MEAN deve ser algo parecido com isso:</p>

<figure class="post_image"><img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/45/posts/19918/image/folders.jpeg"></figure>

<h2>O Lado do Servidor</h2>

<p>A parte do servidor é divida em dois diretórios e um arquivo:</p>

<ul> <li>Diretório <code>app</code> - conterá os controladores, modelos e visões que compõem sua aplicação</li>
<li>Diretório <code>config</code> - conterá os arquivos que controlam como as partes do aplicativo se comportam</li>
<li><code>server.js</code> - é a "porta de entrada" da aplicação</li>
</ul>

<p>Vejamos cada um, em detalhes:</p>

<h3>O Arquivo <code>server.js</code></h3>

<p>Esse é o arquivo que inicializa toda sua apliação. Se não quiser usar o <code>grunt</code> você pode usar o comando <code>node server.js</code> para inicializar o servidor.</p>

<p>O arquivo <code>server.js</code> é responsável por:</p>

<ul> <li>Carregar a configuração. Os arquivos para configurar a aplicação em si, os métodos de autenticação e a conexão com base de dados são carregados.</li>
<li>Inicialização dos modelos. Se dá através leitura do diretório (e subdiretórios) dos modelos e carregando todos os arquivos existentes.</li>
<li>Inicialização do <em>passport</em></li>
<li>Inicialização do <em>express</em></li>
<li>Configuração do <em>express</em></li>
<li>Configuração das rotas do <em>express</em></li>
<li>Inicialização porta configurada a ser escutada.</li>
</ul>

<h3>O Diretório <code>config</code></h3>

<p>Esse diretório contem os arquivos de configuração da aplicação. Dentro dele você encontrará a pasta <code>env</code> contendo as configurações para os ambientes de desenvolvimento, testes e produção da aplicação.</p>

<p>Também encontrará arquivos contendo as configurações da aplicação em si, da parte do <em>express</em> e do <em>passport</em>, esse último responsável pelo sistema de autenticação e acesso.</p>

<h3>O Diretório <code>app</code></h3>

<p>Dentro do diretório <code>app</code> reside todo o código do servidor. Esse diretório contem sub-pastas para os controladores, modelos e visões que compõem a aplicação MVC do servidor, além das rotas existentes.</p>

<p>Por padrão, há controladores para artigos, usuários e um arquivo <em>index</em> para a rota raiz. Também há modelos para os artigos, usuários e rota raiz que são criados durante a instalação.</p>

<p>Em relação às visões padrões, é criada a estrutura a seguir:</p>

<figure class="post_image"><img alt="" src="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/45/posts/19918/image/views.jpeg"></figure>

<p>O diretório <code>includes</code> contém as partes relacionadas ao rodapé e cabeçalho que serão inseridas nas páginas do aplicativo. A pasta <code>layout</code> contém o HTML base para o layout da página. Esse layout é estendido pelo arquivo <code class="inline">index.html</code> da pasta <code class="inline">views</code>.</p>

<p>A pasta <code>users</code> contém o HTML para o login, cadastro e autenticação.</p>

<p>Na raiz do diretório <code class="inline">views</code>, vive o arquivo <code class="inline">index.html</code>. Também há arquivos correspondentes aos erros 404 e 500.</p>

<h2>O Lado Cliente</h2>

<p>O código que ficará a cargo do lado cliente fica no diretório <code>public</code>. Essa pasta contém uma sub-pasta chamada <code>css</code> para os estilos da aplicação, e uma outra, <code>img</code>, onde ficarão as imagens da aplicação.</p>

<p>Preste atenção especial ao diretório <code>js</code> que contém o código do Angular relativo ao lado cliente do aplicativo, o código de inicialização, algumas diretivas e filtros (no momento da criação, em branco) e os controladores e serviços para os artigos e cabeçalho da aplicação. O diretório <code>views</code> contém o código HTML para a criação, edição e exibição dos artigos.</p>

<p>Finalmente, o diretório <code>lib</code> contém o código da biblioteca Angular.</p>

<h2>Testando a Aplicação</h2>

<p>O diretório <code>test</code> contem os arquivos necessários para testar a aplicação. Há os testes para testar a parte relacionada ao servidor, usando Mocha, e os para testar a parte relacionada ao cliente, usando Karma.</p>

<h2>Ferramentas Disponíveis</h2>

<p>Sendo desenvolvedor do conjunto MEAN, você terá acesso ao npm, bower e ao grunt, que deveriam estar instalados.</p>

<p>Algo importante a mencionar é que o JSHint está disponível e todo o código JavaScript é verificado. além disso, ao usar o Grunt, o projeto pode ser verificado em busca de modificações e reconstruído automaticamente.</p>

<h2>Conclusão</h2>

<p>Esse artigo deverá ter uma continuação, onde uma aplicação completa será construída, baseada no conjunto MEAN, mostrando como podemos configurar e adaptá-lo para uso em outros tipos de aplicações. </p>

<p>Fique de olho pela segunda parte!<br></p>

